<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <title>Admin-on-rest - The Create and Edit Views</title>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/style.css">
        <link rel="stylesheet" href="css/syntax.css">
    </head>
    <body>
        <div class="book with-summary font-size-2 font-family-1">
            <div class="book-summary">
                <nav role="navigation">
                    <ul class="summary">
                        <li class="header">Table of Contents</li>
                        <li class="chapter ">
                            <a href="./index.html">
                                <b>1.</b> Read Me
                            </a>
                        </li>
                        <li class="chapter ">
                            <a href="./Tutorial.html">
                                <b>2.</b> Tutorial
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#installation">Installation</a>
                                </li>
                                <li class="chapter">
                                    <a href="#making-contact-with-the-api">Making Contact With The API</a>
                                </li>
                                <li class="chapter">
                                    <a href="#field-types">Field Types</a>
                                </li>
                                <li class="chapter">
                                    <a href="#relationships">Relationships</a>
                                </li>
                                <li class="chapter">
                                    <a href="#creation-and-edition">Creation and Edition</a>
                                </li>
                                <li class="chapter">
                                    <a href="#deletion">Deletion</a>
                                </li>
                                <li class="chapter">
                                    <a href="#filters">Filters</a>
                                </li>
                                <li class="chapter">
                                    <a href="#customizing-the-menu-icons">Customizing the Menu Icons</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-custom-home-page">Using a Custom Home Page</a>
                                </li>
                                <li class="chapter">
                                    <a href="#adding-a-login-page">Adding a Login Page</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-another-rest-dialect">Using Another REST Dialect</a>
                                </li>
                                <li class="chapter">
                                    <a href="#conclusion">Conclusion</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./RestClients.html">
                                <b>3.</b> REST Clients
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#simple-rest">Simple REST</a>
                                </li>
                                <li class="chapter">
                                    <a href="#jsonserver-rest">JSON Server REST</a>
                                </li>
                                <li class="chapter">
                                    <a href="#adding-custom-headers">Adding Custom Headers</a>
                                </li>
                                <li class="chapter">
                                    <a href="#third-party-clients">Third-Party Clients</a>
                                </li>
                                <li class="chapter">
                                    <a href="#writing-your-own-rest-client">Writing your own REST client</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./AdminResource.html">
                                <b>4.</b> Admin and Resource Components
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#the-admin-component"><code>&lt;Admin&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#the-resource-component"><code>&lt;Resource&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-admin-on-rest-without-admin-and-resource">Not using <code>&lt;Admin&gt;</code> and <code>&lt;Resource&gt;</code></a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./List.html">
                                <b>5.</b> The <code>&lt;List&gt;</code> View
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#the-list-component"><code>&lt;List&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#the-datagrid-component"><code>&lt;Datagrid&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#the-singlefieldlist-component"><code>&lt;SingleFieldList&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-custom-iterator">Using a Custom Iterator</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./Fields.html">
                                <b>6.</b> Field Components
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#booleanfield"><code>&lt;BooleanField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#chipfield"><code>&lt;ChipField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#datefield"><code>&lt;DateField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#emailfield"><code>&lt;EmailField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#functionfield"><code>&lt;FunctionField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#numberfield"><code>&lt;NumberField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#referencefield"><code>&lt;ReferenceField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#referencemanyfield"><code>&lt;ReferenceManyField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#richtextfield"><code>&lt;RichTextField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#textfield"><code>&lt;TextField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#urlfield"><code>&lt;UrlField&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#styling-fields">Styling Fields</a>
                                </li>
                                <li class="chapter">
                                    <a href="#writing-your-own-field-component">Writing your own field component</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter active">
                            <a href="./CreateEdit.html">
                                <b>7.</b> The <code>&lt;Create&gt;</code> and <code>&lt;Edit&gt;</code> Views
                            </a>
                            <ul class="articles" >
                                <li class="chapter">
                                    <a href="#the-create-and-edit-components"><code>&lt;Create&gt;</code>, <code>&lt;Edit&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#page-title">Page Title</a>
                                </li>
                                <li class="chapter">
                                    <a href="#actions">Actions</a>
                                </li>
                                <li class="chapter">
                                    <a href="#the-simpleform-component"><code>&lt;SimpleForm&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#the-tabbedform-component"><code>&lt;TabbedForm&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#default-values">Default Values</a>
                                </li>
                                <li class="chapter">
                                    <a href="#validation">Validation</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./Inputs.html">
                                <b>8.</b> Input Components
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#autocompleteinput"><code>&lt;AutocompleteInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#booleaninput-and-nullablebooleaninput"><code>&lt;BooleanInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#dateinput"><code>&lt;DateInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#disabledinput"><code>&lt;DisabledInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#longtextinput"><code>&lt;LongTextInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#numberinput"><code>&lt;NumberInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#radiobuttongroupinput"><code>&lt;RadioButtonGroupInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#referenceinput"><code>&lt;ReferenceInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#richtextinput"><code>&lt;RichTextInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#selectinput"><code>&lt;SelectInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#textinput"><code>&lt;TextInput&gt;</code></a>
                                </li>
                                <li class="chapter">
                                    <a href="#writing-your-own-input-component">Writing your own input component</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./Authentication.html">
                                <b>9.</b> Authentication
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#configuring-the-auth-client">Configuring the Auth Client</a>
                                </li>
                                <li class="chapter">
                                    <a href="#sending-credentials-to-the-rest-api">Sending Credentials to the REST API</a>
                                </li>
                                <li class="chapter">
                                    <a href="#adding-a-logout-button">Adding a Logout Button</a>
                                </li>
                                <li class="chapter">
                                    <a href="#checking-credentials-during-navigation">Checking Credentials During Navigation</a>
                                </li>
                                <li class="chapter">
                                    <a href="#customizing-the-login-and-logout-components">Customizing The Login and Logout Components</a>
                                </li>
                            </ul>
                        </li>
                        <li class="chapter ">
                            <a href="./Theming.html">
                                <b>10.</b> Theming
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#overriding-a-component-style">Overriding A Component Style</a>
                                </li>
                                <li class="chapter">
                                    <a href="#conditional-formatting">Conditional Formatting</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-predefined-theme">Using a Predefined Theme</a>
                                </li>
                                <li class="chapter">
                                    <a href="#writing-a-custom-theme">Writing a Custom Theme</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-custom-layout">Using a Custom Layout</a>
                                </li>
                            </ul>
                        </li>

                        <li class="chapter ">
                            <a href="./Actions.html">
                                <b>11.</b> Writing Actions
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#the-simple-way">The Simple Way</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-the-rest-client-instead-of-fetch">Using The REST Client</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-custom-action-creator">Using a Custom Action Creator</a>
                                </li>
                                <li class="chapter">
                                    <a href="#handling-side-effects-with-a-custom-saga">Handling Side Effects With a Custom Saga</a>
                                </li>
                                <li class="chapter">
                                    <a href="#bonus-optimistic-rendering">Bonus: Optimistic Rendering</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-a-custom-reducer">Using a Custom Reducer</a>
                                </li>
                            </ul>
                        </li>

                        <li class="chapter ">
                            <a href="./Translation.html">
                                <b>12.</b> Translation
                            </a>
                            <ul class="articles" style="display:none">
                                <li class="chapter">
                                    <a href="#changing-locale">Changing Locale</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-the-browser-locale">Using Browser Locale</a>
                                </li>
                                <li class="chapter">
                                    <a href="#translation-messages">Translation Messages</a>
                                </li>
                                <li class="chapter">
                                    <a href="#overriding-existing-translations">Overriding Existing Translations</a>
                                </li>
                                <li class="chapter">
                                    <a href="#translating-your-resources">Translating Your Resources</a>
                                </li>
                                <li class="chapter">
                                    <a href="#translating-your-own-components">Translating Your Own Components</a>
                                </li>
                                <li class="chapter">
                                    <a href="#using-specific-polyglot-features">Using Specific Polyglot Features</a>
                                </li>
                            </ul>
                        </li>

                        <li class="chapter ">
                            <a href="./CustomApp.html">
                                <b>13.</b> Including in Another App
                            </a>
                        </li>

                        <li class="chapter ">
                            <a href="./Reference.html">
                                <b>14.</b> Reference
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>
            <div class="book-body">
                <div class="body-inner">
                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">

                            <div id="book-search-results">
                                <div class="search-noresults">

                                <section class="normal markdown-section">

                                <h1 id="the-create-and-edit-views">The Create and Edit Views</h1>

<p>The Create and Edit views both display a form, initialized with an empty record (for the Create view) or with a record fetched from the API (for the Edit view). The <code class="highlighter-rouge">&lt;Create&gt;</code> and <code class="highlighter-rouge">&lt;Edit&gt;</code> components then delegate the actual rendering of the form to a form component - usually <code class="highlighter-rouge">&lt;SimpleForm&gt;</code>. This form component uses its children (<a href="./Inputs.html"><code class="highlighter-rouge">&lt;Input&gt;</code></a> components) to render each form input.</p>

<p><img src="./img/create-view.png" alt="post creation form" /></p>

<p><img src="./img/edit-view.png" alt="post edition form" /></p>

<h2 id="the-create-and-edit-components">The <code class="highlighter-rouge">&lt;Create&gt;</code> and <code class="highlighter-rouge">&lt;Edit&gt;</code> components</h2>

<p>The <code class="highlighter-rouge">&lt;Create&gt;</code> and <code class="highlighter-rouge">&lt;Edit&gt;</code> components render the page title and actions, and fetch the record from the REST API. They are not responsible for rendering the actual form - that’s the job of their child component (usually <code class="highlighter-rouge">&lt;SimpleForm&gt;</code>), to which they pass the <code class="highlighter-rouge">record</code> as prop.</p>

<p>Here are all the props accepted by the <code class="highlighter-rouge">&lt;Create&gt;</code> and <code class="highlighter-rouge">&lt;Edit&gt;</code> components:</p>

<ul>
  <li><a href="#page-title"><code class="highlighter-rouge">title</code></a></li>
  <li><a href="#actions"><code class="highlighter-rouge">actions</code></a></li>
</ul>

<p>Here is the minimal code necessary to display a form to create and edit comments:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">// in src/App.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">jsonServerRestClient</span><span class="p">,</span> <span class="nx">Admin</span><span class="p">,</span> <span class="nx">Resource</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'admin-on-rest'</span><span class="p">;</span>

<span class="kr">import</span> <span class="p">{</span> <span class="nx">PostCreate</span><span class="p">,</span> <span class="nx">PostEdit</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'./posts'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">App</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Admin</span> <span class="nx">restClient</span><span class="o">=</span><span class="p">{</span><span class="nx">jsonServerRestClient</span><span class="p">(</span><span class="s1">'http://jsonplaceholder.typicode.com'</span><span class="p">)}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Resource</span> <span class="nx">name</span><span class="o">=</span><span class="s2">"posts"</span> <span class="nx">create</span><span class="o">=</span><span class="p">{</span><span class="nx">PostCreate</span><span class="p">}</span> <span class="nx">edit</span><span class="o">=</span><span class="p">{</span><span class="nx">PostEdit</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Admin</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="kr">export</span> <span class="k">default</span> <span class="nx">App</span><span class="p">;</span>

<span class="c1">// in src/posts.js</span>
<span class="kr">import</span> <span class="nx">React</span> <span class="nx">from</span> <span class="s1">'react'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Create</span><span class="p">,</span> <span class="nx">Edit</span><span class="p">,</span> <span class="nx">SimpleForm</span><span class="p">,</span> <span class="nx">DisabledInput</span><span class="p">,</span> <span class="nx">TextInput</span><span class="p">,</span> <span class="nx">DateInput</span><span class="p">,</span> <span class="nx">LongTextInput</span><span class="p">,</span> <span class="nx">ReferenceManyField</span><span class="p">,</span> <span class="nx">Datagrid</span><span class="p">,</span> <span class="nx">TextField</span><span class="p">,</span> <span class="nx">DateField</span><span class="p">,</span> <span class="nx">EditButton</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'admin-on-rest/lib/mui'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">RichTextInput</span> <span class="nx">from</span> <span class="s1">'aor-rich-text-input'</span><span class="p">;</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"teaser"</span> <span class="nx">options</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">DateInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Publication date"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"published_at"</span> <span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="k">new</span> <span class="nb">Date</span><span class="p">()}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Edit</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">PostTitle</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">DisabledInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Id"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"id"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="nx">validation</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">LongTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"teaser"</span> <span class="nx">validation</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="nx">validation</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">DateInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Publication date"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"published_at"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">ReferenceManyField</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Comments"</span> <span class="nx">reference</span><span class="o">=</span><span class="s2">"comments"</span> <span class="nx">target</span><span class="o">=</span><span class="s2">"post_id"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">Datagrid</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">TextField</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="nx">DateField</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"created_at"</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="nx">EditButton</span> <span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="sr">/Datagrid</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/ReferenceManyField</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Edit</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<p>That’s enough to display the post edit form:</p>

<p><img src="./img/post-edition.png" alt="post edition form" /></p>

<p><strong>Tip</strong>: You might find it cumbersome to repeat the same input components for both the <code class="highlighter-rouge">&lt;Create&gt;</code> and the <code class="highlighter-rouge">&lt;Edit&gt;</code> view. In practice, these two views almost never have exactly the same form inputs. For instance, in the previous snippet, the <code class="highlighter-rouge">&lt;Edit&gt;</code> views shows related comments to the current post, which makes no sense for a new post. Having two separate sets of input components for the two view is therefore a deliberate choice. However, if you have the same set of input components, export them as a custom Form component to avoid repetition.</p>

<h3 id="page-title">Page Title</h3>

<p>By default, the title for the Create view is “Create [resource_name]”, and the title for the Edit view is “Edit [resource_name] #[record_id]”.</p>

<p>You can customize this title by specifying a custom <code class="highlighter-rouge">title</code> prop:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Edit</span> <span class="nx">title</span><span class="o">=</span><span class="s2">"Post edition"</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">...</span>
    <span class="o">&lt;</span><span class="sr">/Edit</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<p>More interestingly, you can pass a component as <code class="highlighter-rouge">title</code>. Admin-on-rest clones this component and, in the <code class="highlighter-rouge">&lt;EditView&gt;</code>, injects the current <code class="highlighter-rouge">record</code>. This allows to customize the title according to the current record:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">PostTitle</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">record</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">span</span><span class="o">&gt;</span><span class="nx">Post</span> <span class="p">{</span><span class="nx">record</span> <span class="p">?</span> <span class="err">`</span><span class="s2">"${record.title}"</span><span class="err">`</span> <span class="p">:</span> <span class="s1">''</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt;</span><span class="err">;
</span><span class="p">};</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Edit</span> <span class="nx">title</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">PostTitle</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">...</span>
    <span class="o">&lt;</span><span class="sr">/Edit</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="actions">Actions</h3>

<p>You can replace the list of default actions by your own element using the <code class="highlighter-rouge">actions</code> prop:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">CardActions</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'material-ui/Card'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">FlatButton</span> <span class="nx">from</span> <span class="s1">'material-ui/FlatButton'</span><span class="p">;</span>
<span class="kr">import</span> <span class="nx">NavigationRefresh</span> <span class="nx">from</span> <span class="s1">'material-ui/svg-icons/navigation/refresh'</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">ListButton</span><span class="p">,</span> <span class="nx">ShowButton</span><span class="p">,</span> <span class="nx">DeleteButton</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'admin-on-rest/lib/mui'</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">cardActionStyle</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">zIndex</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="na">display</span><span class="p">:</span> <span class="s1">'inline-block'</span><span class="p">,</span>
    <span class="na">float</span><span class="p">:</span> <span class="s1">'right'</span><span class="p">,</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">PostEditActions</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">basePath</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">refresh</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">CardActions</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">cardActionStyle</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">ShowButton</span> <span class="nx">basePath</span><span class="o">=</span><span class="p">{</span><span class="nx">basePath</span><span class="p">}</span> <span class="nx">record</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">ListButton</span> <span class="nx">basePath</span><span class="o">=</span><span class="p">{</span><span class="nx">basePath</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">DeleteButton</span> <span class="nx">basePath</span><span class="o">=</span><span class="p">{</span><span class="nx">basePath</span><span class="p">}</span> <span class="nx">record</span><span class="o">=</span><span class="p">{</span><span class="nx">data</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">FlatButton</span> <span class="nx">primary</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Refresh"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">refresh</span><span class="p">}</span> <span class="nx">icon</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">NavigationRefresh</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="cm">/* Add your custom actions */</span><span class="p">}</span>
        <span class="o">&lt;</span><span class="nx">FlatButton</span> <span class="nx">primary</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Custom Action"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">customAction</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/CardActions</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Edit</span> <span class="nx">actions</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">PostEditActions</span> <span class="o">/&gt;</span><span class="p">}</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="p">...</span>
    <span class="o">&lt;</span><span class="sr">/Edit</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="the-simpleform-component">The <code class="highlighter-rouge">&lt;SimpleForm&gt;</code> component</h2>

<p>The <code class="highlighter-rouge">&lt;SimpleForm&gt;</code> component receives the <code class="highlighter-rouge">record</code> as prop from its parent component. It is responsible for rendering the actual form. It is also responsible for validating the form data. Finally, it receives a <code class="highlighter-rouge">handleSubmit</code> function as prop, to be called with the updated record as argument when the user submits the form.</p>

<p>The <code class="highlighter-rouge">&lt;SimpleForm&gt;</code> renders its child components line by line (within <code class="highlighter-rouge">&lt;div&gt;</code> components). It uses <code class="highlighter-rouge">redux-form</code>.</p>

<p><img src="./img/post-edition.png" alt="post edition form" /></p>

<p>Here are all the props accepted by the <code class="highlighter-rouge">&lt;SimpleForm&gt;</code> component:</p>

<ul>
  <li><a href="#default-values"><code class="highlighter-rouge">defautValue</code></a></li>
  <li><a href="#validation"><code class="highlighter-rouge">validation</code></a></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">NumberInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"nb_views"</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="the-tabbedform-component">The <code class="highlighter-rouge">&lt;TabbedForm&gt;</code> component</h2>

<p>Just like <code class="highlighter-rouge">&lt;SimpleForm&gt;</code>, <code class="highlighter-rouge">&lt;TabbedForm&gt;</code> receives the <code class="highlighter-rouge">record</code> prop, renders the actual form, and handles form validation on submit. However, the <code class="highlighter-rouge">&lt;TabbedForm&gt;</code> component renders inputs grouped by tab. The tabs are set by using <code class="highlighter-rouge">&lt;FormTab&gt;</code> components, which expect a <code class="highlighter-rouge">label</code> and an <code class="highlighter-rouge">icon</code> prop.</p>

<p><img src="./img/tabbed-form.gif" alt="tabbed form" /></p>

<p>Here are all the props accepted by the <code class="highlighter-rouge">&lt;TabbedForm&gt;</code> component:</p>

<ul>
  <li><a href="#default-values"><code class="highlighter-rouge">defautValue</code></a></li>
  <li><a href="#validation"><code class="highlighter-rouge">validation</code></a></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">import</span> <span class="p">{</span> <span class="nx">TabbedForm</span><span class="p">,</span> <span class="nx">FormTab</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">'admin-on-rest/lib/mui'</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostEdit</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Edit</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">TabbedForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">FormTab</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"summary"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">DisabledInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Id"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"id"</span> <span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="nx">validation</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">LongTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"teaser"</span> <span class="nx">validation</span><span class="o">=</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/FormTab</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">FormTab</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"body"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="nx">validation</span><span class="o">=</span> <span class="nx">addLabel</span><span class="o">=</span><span class="p">{</span><span class="kc">false</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/FormTab</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">FormTab</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Miscellaneous"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Password (if protected post)"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"password"</span> <span class="nx">type</span><span class="o">=</span><span class="s2">"password"</span> <span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="nx">DateInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Publication date"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"published_at"</span> <span class="o">/&gt;</span>
                <span class="o">&lt;</span><span class="nx">NumberInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"average_note"</span> <span class="nx">validation</span><span class="o">=</span><span class="nx">content</span><span class="o">&lt;</span><span class="nx">h1</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"authentication"</span><span class="o">&gt;</span><span class="nx">Authentication</span><span class="o">&lt;</span><span class="sr">/h1</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"./img/login.gif"</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">"Logout button"</span> <span class="o">/&gt;&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">lets</span> <span class="nx">you</span> <span class="nx">secure</span> <span class="nx">your</span> <span class="nx">admin</span> <span class="nx">app</span> <span class="kd">with</span> <span class="nx">the</span> <span class="nx">authentication</span> <span class="nx">strategy</span> <span class="nx">of</span> <span class="nx">your</span> <span class="nx">choice</span><span class="p">.</span> <span class="nx">Since</span> <span class="nx">there</span> <span class="nx">are</span> <span class="nx">many</span> <span class="nx">different</span> <span class="nx">possible</span> <span class="nx">strategies</span> <span class="p">(</span><span class="nx">Basic</span> <span class="nx">Auth</span><span class="p">,</span> <span class="nx">JWT</span><span class="p">,</span> <span class="nx">OAuth</span><span class="p">,</span> <span class="nx">etc</span><span class="p">.),</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">simply</span> <span class="nx">provides</span> <span class="nx">hooks</span> <span class="nx">to</span> <span class="nx">execute</span> <span class="nx">your</span> <span class="nx">own</span> <span class="nx">authentication</span> <span class="nx">code</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">By</span> <span class="k">default</span><span class="p">,</span> <span class="nx">an</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">app</span> <span class="nx">doesn</span><span class="err">’</span><span class="nx">t</span> <span class="nx">require</span> <span class="nx">authentication</span><span class="p">.</span> <span class="nx">But</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">REST</span> <span class="nx">API</span> <span class="nx">ever</span> <span class="nx">returns</span> <span class="nx">a</span> <span class="mi">401</span> <span class="p">(</span><span class="nx">Unauthorized</span><span class="p">)</span> <span class="nx">or</span> <span class="nx">a</span> <span class="mi">403</span> <span class="p">(</span><span class="nx">Forbidden</span><span class="p">)</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">then</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">is</span> <span class="nx">redirected</span> <span class="nx">to</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="sr">/login&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">route</span><span class="p">.</span> <span class="nx">You</span> <span class="nx">have</span> <span class="nx">nothing</span> <span class="nx">to</span> <span class="k">do</span> <span class="o">-</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">already</span> <span class="nx">built</span> <span class="k">in</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"configuring-the-auth-client"</span><span class="o">&gt;</span><span class="nx">Configuring</span> <span class="nx">the</span> <span class="nx">Auth</span> <span class="nx">Client</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">By</span> <span class="k">default</span><span class="p">,</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="sr">/login&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">route</span> <span class="nx">renders</span> <span class="nx">a</span> <span class="nx">special</span> <span class="nx">component</span> <span class="nx">called</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">Login</span><span class="o">&lt;</span><span class="sr">/code&gt;, which displays a login form asking for username and password.&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"./img/login-form.png"</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">"Default Login Form"</span> <span class="o">/&gt;&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">What</span> <span class="k">this</span> <span class="nx">form</span> <span class="nx">does</span> <span class="nx">upon</span> <span class="nx">submission</span> <span class="nx">depends</span> <span class="nx">on</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; prop of the &lt;code class="highlighter-rouge"&gt;&amp;lt;Admin&amp;gt;&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">component</span><span class="p">.</span> <span class="nx">This</span> <span class="kd">function</span> <span class="nx">receives</span> <span class="nx">authentication</span> <span class="nx">requests</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">params</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/code&gt;, and should return a Promise. &lt;code class="highlighter-rouge"&gt;Login&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">calls</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; with the &lt;code class="highlighter-rouge"&gt;AUTH_LOGIN&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">and</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="w"&gt; &lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"err"</span><span class="o">&gt;</span><span class="nx">login</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="w"&gt; &lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"err"</span><span class="o">&gt;</span><span class="nx">password</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="w"&gt; &lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">as</span> <span class="nx">parameters</span><span class="p">.</span> <span class="nx">It</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">ideal</span> <span class="nx">place</span> <span class="nx">to</span> <span class="nx">authenticate</span> <span class="nx">the</span> <span class="nx">user</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">store</span> <span class="nx">their</span> <span class="nx">credentials</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">For</span> <span class="nx">instance</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">query</span> <span class="nx">an</span> <span class="nx">authentication</span> <span class="nx">route</span> <span class="nx">via</span> <span class="nx">HTTPS</span> <span class="nx">and</span> <span class="nx">store</span> <span class="nx">the</span> <span class="nx">credentials</span> <span class="p">(</span><span class="nx">a</span> <span class="nx">token</span><span class="p">)</span> <span class="k">in</span> <span class="nx">local</span> <span class="nx">storage</span><span class="p">,</span> <span class="nx">configure</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; as follows:&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlight"</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// in src/authClient.js&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">import</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">from</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'admin-on-rest'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">export</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="k"&gt;default&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;type&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">const</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">username</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">password</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">const</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;request&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt; &lt;span class="k"&gt;new&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">Request</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"s1"</span><span class="o">&gt;</span><span class="s1">'https://mydomain.com/authenticate'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"na"</span><span class="o">&gt;</span><span class="nx">method</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;:&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"s1"</span><span class="o">&gt;</span><span class="s1">'POST'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"na"</span><span class="o">&gt;</span><span class="nx">body</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;:&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">JSON</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;.&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">stringify</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">username</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">password</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}</span><span class="se">)</span><span class="sr">,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"na"</span><span class="o">&gt;</span><span class="nx">headers</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;:&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">new</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Headers&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">({</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'Content-Type'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'application/</span><span class="nx">json</span><span class="s1">'&lt;/span&gt; &lt;span class="p"&gt;}),&lt;/span&gt;
        &lt;span class="p"&gt;})&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;fetch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;request&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;then&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;status&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;200&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;status&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;300&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                    &lt;span class="k"&gt;throw&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nb"&gt;Error&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;statusText&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="p"&gt;}&lt;/span&gt;
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;response&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;json&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="p"&gt;})&lt;/span&gt;
            &lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;then&lt;/span&gt;&lt;span class="p"&gt;(({&lt;/span&gt; &lt;span class="nx"&gt;token&lt;/span&gt; &lt;span class="p"&gt;})&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
                &lt;span class="nx"&gt;localStorage&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;setItem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'</span><span class="nx">token</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;token&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;Promise&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;resolve&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Tip&lt;/strong&gt;: It’s a good idea to store credentials in &lt;code class="highlighter-rouge"&gt;localStorage&lt;/code&gt;, to avoid reconnection when opening a new browser tab. But this makes your application &lt;a href="http://www.redotheweb.com/2015/11/09/api-security.html"&gt;open to XSS attacks&lt;/a&gt;, so you’d better double down on security, and add an &lt;code class="highlighter-rouge"&gt;httpOnly&lt;/code&gt; cookie on the server side, too.&lt;/p&gt;

&lt;p&gt;Then, pass this client to the &lt;code class="highlighter-rouge"&gt;&amp;lt;Admin&amp;gt;&lt;/code&gt; component:&lt;/p&gt;

&lt;div class="highlighter-rouge"&gt;&lt;pre class="highlight"&gt;&lt;code&gt;&lt;span class="c1"&gt;// in src/App.js&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;authClient&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;'</span><span class="p">.</span><span class="o">/</span><span class="nx">authClient</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;App&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;Admin&lt;/span&gt; &lt;span class="nx"&gt;authClient&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;authClient&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="p"&gt;...&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="sr"&gt;/Admin&lt;/span&gt;&lt;span class="err"&gt;&amp;gt;
&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Upon receiving a 403 response, the admin app shows the Login page. &lt;code class="highlighter-rouge"&gt;authClient&lt;/code&gt; is now called when the user submits the login form. Once the promise resolves, the login form redirects to the previous page, or to the admin index if the user just arrived.&lt;/p&gt;

&lt;h2 id="sending-credentials-to-the-rest-api"&gt;Sending Credentials to the REST API&lt;/h2&gt;

&lt;p&gt;To use the credentials when calling REST API routes, you have to tweak, this time, the &lt;code class="highlighter-rouge"&gt;restClient&lt;/code&gt;. As explained in the &lt;a href="RestClients.html#adding-custom-headers"&gt;REST client documentation&lt;/a&gt;, &lt;code class="highlighter-rouge"&gt;simpleRestClient&lt;/code&gt; and &lt;code class="highlighter-rouge"&gt;jsonServerRestClient&lt;/code&gt; take an &lt;code class="highlighter-rouge"&gt;httpClient&lt;/code&gt; as second parameter. That’s the place where you can change request headers, cookies, etc.&lt;/p&gt;

&lt;p&gt;For instance, to pass the token obtained during login as an &lt;code class="highlighter-rouge"&gt;Authorization&lt;/code&gt; header, configure the REST client as follows:&lt;/p&gt;

&lt;div class="highlighter-rouge"&gt;&lt;pre class="highlight"&gt;&lt;code&gt;&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="nx"&gt;simpleRestClient&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;fetchUtils&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;Admin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;Resource&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;'</span><span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;httpClient&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;headers&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;Headers&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt; &lt;span class="na"&gt;Accept&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'</span><span class="nx">application</span><span class="o">/</span><span class="nx">json</span><span class="s1">'&lt;/span&gt; &lt;span class="p"&gt;});&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;token&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;localStorage&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;getItem&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'</span><span class="nx">token</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;headers&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'</span><span class="nx">Authorization</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="nx"&gt;Bearer&lt;/span&gt; &lt;span class="nx"&gt;$&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="nx"&gt;token&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="err"&gt;`&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="nx"&gt;fetchUtils&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;fetchJson&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;url&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;options&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="kr"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;restClient&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;simpleRestClient&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'</span><span class="na">http</span><span class="p">:</span><span class="c1">//localhost:3000'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;httpClient&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;</span>

<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">const</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;App&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">()</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;Admin&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">restClient</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="o"&gt;=&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;restClient&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;authClient&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="sr"&gt;/</span><span class="nx">Admin</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="err"&gt;&amp;gt</span><span class="err">;
</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">you</span> <span class="nx">have</span> <span class="nx">a</span> <span class="nx">custom</span> <span class="nx">REST</span> <span class="nx">client</span><span class="p">,</span> <span class="nx">don</span><span class="err">’</span><span class="nx">t</span> <span class="nx">forget</span> <span class="nx">to</span> <span class="nx">add</span> <span class="nx">credentials</span> <span class="nx">yourself</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"adding-a-logout-button"</span><span class="o">&gt;</span><span class="nx">Adding</span> <span class="nx">a</span> <span class="nx">Logout</span> <span class="nx">Button</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">you</span> <span class="nx">provide</span> <span class="nx">an</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; prop to &lt;code class="highlighter-rouge"&gt;&amp;lt;Admin&amp;gt;&lt;/</span><span class="nx">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">displays</span> <span class="nx">a</span> <span class="nx">logout</span> <span class="nx">button</span> <span class="k">in</span> <span class="nx">the</span> <span class="nx">sidebar</span><span class="p">.</span> <span class="nx">When</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">clicks</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">logout</span> <span class="nx">button</span><span class="p">,</span> <span class="k">this</span> <span class="nx">calls</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; with the &lt;code class="highlighter-rouge"&gt;AUTH_LOGOUT&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">type</span><span class="p">.</span> <span class="nx">When</span> <span class="nx">resolved</span><span class="p">,</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">gets</span> <span class="nx">redirected</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">login</span> <span class="nx">page</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">For</span> <span class="nx">instance</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">remove</span> <span class="nx">the</span> <span class="nx">token</span> <span class="nx">from</span> <span class="nx">local</span> <span class="nx">storage</span> <span class="nx">upon</span> <span class="na">logout</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlight"</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// in src/authClient.js&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">import</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">from</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'admin-on-rest'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">export</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="k"&gt;default&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;type&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// ...&lt;/span&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">localStorage</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;.&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">removeItem</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"s1"</span><span class="o">&gt;</span><span class="s1">'token'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">return</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Promise&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;resolve&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">();</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">return</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Promise&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;resolve&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">();</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">};</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">img</span> <span class="nx">src</span><span class="o">=</span><span class="s2">"./img/logout.gif"</span> <span class="nx">alt</span><span class="o">=</span><span class="s2">"Logout button"</span> <span class="o">/&gt;&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">The</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; is also a good place to notify the authentication API that the user credentials are no longer valid after logout.&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"checking-credentials-during-navigation"</span><span class="o">&gt;</span><span class="nx">Checking</span> <span class="nx">Credentials</span> <span class="nx">During</span> <span class="nx">Navigation</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">redirects</span> <span class="nx">to</span> <span class="nx">the</span> <span class="nx">login</span> <span class="nx">page</span> <span class="nx">whenever</span> <span class="nx">a</span> <span class="nx">REST</span> <span class="nx">response</span> <span class="nx">uses</span> <span class="nx">a</span> <span class="mi">403</span> <span class="nx">status</span> <span class="nx">code</span><span class="p">.</span> <span class="nx">But</span> <span class="nx">that</span><span class="err">’</span><span class="nx">s</span> <span class="nx">usually</span> <span class="nx">not</span> <span class="nx">enough</span><span class="p">,</span> <span class="nx">because</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">keeps</span> <span class="nx">data</span> <span class="nx">on</span> <span class="nx">the</span> <span class="nx">client</span> <span class="nx">side</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">could</span> <span class="nx">display</span> <span class="nx">stale</span> <span class="nx">data</span> <span class="k">while</span> <span class="nx">contacting</span> <span class="nx">the</span> <span class="nx">server</span> <span class="o">-</span> <span class="nx">even</span> <span class="nx">after</span> <span class="nx">the</span> <span class="nx">credentials</span> <span class="nx">are</span> <span class="nx">no</span> <span class="nx">longer</span> <span class="nx">valid</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Fortunately</span><span class="p">,</span> <span class="nx">each</span> <span class="nx">time</span> <span class="nx">the</span> <span class="nx">user</span> <span class="nx">navigates</span><span class="p">,</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">calls</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; with the &lt;code class="highlighter-rouge"&gt;AUTH_CHECK&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">type</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">the</span> <span class="nx">ideal</span> <span class="nx">place</span> <span class="nx">to</span> <span class="nx">check</span> <span class="k">for</span> <span class="nx">credentials</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">For</span> <span class="nx">instance</span><span class="p">,</span> <span class="nx">to</span> <span class="nx">check</span> <span class="k">for</span> <span class="nx">the</span> <span class="nx">existence</span> <span class="nx">of</span> <span class="nx">the</span> <span class="nx">token</span> <span class="k">in</span> <span class="nx">local</span> <span class="na">storage</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlight"</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// in src/authClient.js&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">import</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">from</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'admin-on-rest'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">export</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="k"&gt;default&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;type&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// ...&lt;/span&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// ...&lt;/span&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_CHECK</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">return</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;localStorage&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;getItem&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="s1"&gt;'username'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">?</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">Promise</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;.&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">resolve</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">()</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Promise&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;reject&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">();</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">return</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Promise&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;reject&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="s1"&gt;'Unkown method'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">);</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">};</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">If</span> <span class="nx">the</span> <span class="nx">promise</span> <span class="nx">is</span> <span class="nx">rejected</span><span class="p">,</span> <span class="nx">admin</span><span class="o">-</span><span class="nx">on</span><span class="o">-</span><span class="nx">rest</span> <span class="nx">redirects</span> <span class="nx">to</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="sr">/login&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">page</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">Tip</span><span class="o">&lt;</span><span class="sr">/strong&gt;: For the &lt;code class="highlighter-rouge"&gt;AUTH_CHECK&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">call</span><span class="p">,</span> <span class="nx">the</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">params</span><span class="o">&lt;</span><span class="sr">/code&gt; argument contains the &lt;code class="highlighter-rouge"&gt;resource&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">name</span><span class="p">,</span> <span class="nx">so</span> <span class="nx">you</span> <span class="nx">can</span> <span class="nx">implement</span> <span class="nx">different</span> <span class="nx">checks</span> <span class="k">for</span> <span class="nx">different</span> <span class="na">resources</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlight"</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// in src/authClient.js&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">import</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;,&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">from</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'admin-on-rest'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">export</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="k"&gt;default&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;type&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;=&amp;gt;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// ...&lt;/span&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGOUT</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// ...&lt;/span&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">type</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">AUTH_CHECK</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">const</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">resource</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;params&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">resource</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"s1"</span><span class="o">&gt;</span><span class="s1">'posts'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// check credentials for the posts resource&lt;/span&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">if</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">resource</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="o"&gt;===&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"s1"</span><span class="o">&gt;</span><span class="s1">'comments'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// check credentials for the comments resource&lt;/span&gt;</span>
        <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"k"</span><span class="o">&gt;</span><span class="k">return</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;Promise&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;reject&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="s1"&gt;'Unkown method'&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">);</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">};</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">Tip</span><span class="o">&lt;</span><span class="sr">/strong&gt;: The &lt;code class="highlighter-rouge"&gt;authClient&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">can</span> <span class="nx">only</span> <span class="nx">be</span> <span class="nx">called</span> <span class="kd">with</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">AUTH_LOGIN</span><span class="o">&lt;</span><span class="sr">/code&gt;, &lt;code class="highlighter-rouge"&gt;AUTH_LOGOUT&lt;/</span><span class="nx">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="nx">or</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">AUTH_CHECK</span><span class="o">&lt;</span><span class="sr">/code&gt;; that’s why the final return is a rejected promise.&lt;/</span><span class="nx">p</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">h2</span> <span class="nx">id</span><span class="o">=</span><span class="s2">"customizing-the-login-and-logout-components"</span><span class="o">&gt;</span><span class="nx">Customizing</span> <span class="nx">The</span> <span class="nx">Login</span> <span class="nx">and</span> <span class="nx">Logout</span> <span class="nx">Components</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Using</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">authClient</span><span class="o">&lt;</span><span class="sr">/code&gt; and &lt;code class="highlighter-rouge"&gt;checkCredentials&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">is</span> <span class="nx">enough</span> <span class="nx">to</span> <span class="nx">implement</span> <span class="nx">a</span> <span class="nx">full</span><span class="o">-</span><span class="nx">featured</span> <span class="nx">authorization</span> <span class="nx">system</span> <span class="k">if</span> <span class="nx">the</span> <span class="nx">authentication</span> <span class="nx">relies</span> <span class="nx">on</span> <span class="nx">a</span> <span class="nx">username</span> <span class="nx">and</span> <span class="nx">password</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">But</span> <span class="nx">what</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">use</span> <span class="nx">an</span> <span class="nx">email</span> <span class="nx">instead</span> <span class="nx">of</span> <span class="nx">a</span> <span class="nx">username</span><span class="p">?</span> <span class="nx">What</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">use</span> <span class="nx">a</span> <span class="nx">Single</span><span class="o">-</span><span class="nx">Sign</span><span class="o">-</span><span class="nx">On</span> <span class="p">(</span><span class="nx">SSO</span><span class="p">)</span> <span class="kd">with</span> <span class="nx">a</span> <span class="nx">third</span><span class="o">-</span><span class="nx">party</span> <span class="nx">authentication</span> <span class="nx">service</span><span class="p">?</span> <span class="nx">What</span> <span class="k">if</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="nx">use</span> <span class="nx">two</span><span class="o">-</span><span class="nx">factor</span> <span class="nx">authentication</span><span class="p">?</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">For</span> <span class="nx">all</span> <span class="nx">these</span> <span class="nx">cases</span><span class="p">,</span> <span class="nx">it</span><span class="err">’</span><span class="nx">s</span> <span class="nx">up</span> <span class="nx">to</span> <span class="nx">you</span> <span class="nx">to</span> <span class="nx">implement</span> <span class="nx">your</span> <span class="nx">own</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">LoginPage</span><span class="o">&lt;</span><span class="sr">/code&gt; component, which will be displayed under the &lt;code class="highlighter-rouge"&gt;/</span><span class="nx">login</span><span class="o">&lt;</span><span class="sr">/code&gt; route instead of the default username/</span><span class="nx">password</span> <span class="nx">form</span><span class="p">,</span> <span class="nx">and</span> <span class="nx">your</span> <span class="nx">own</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">LogoutButton</span><span class="o">&lt;</span><span class="sr">/code&gt; component, which will be displayed in the sidebar. Pass both these components to the &lt;code class="highlighter-rouge"&gt;&amp;lt;Admin&amp;gt;&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">component</span><span class="p">:</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">div</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;&lt;</span><span class="nx">pre</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlight"</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"c1"</span><span class="o">&gt;</span><span class="c1">// in src/App.js&lt;/span&gt;</span>
<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">import</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;MyLoginPage&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">from</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="s1"&gt;'./</span><span class="nx">MyLoginPage</span><span class="s1">'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kr"&gt;import&lt;/span&gt; &lt;span class="nx"&gt;MyLogoutButton&lt;/span&gt; &lt;span class="nx"&gt;from&lt;/span&gt; &lt;span class="s1"&gt;'</span><span class="p">.</span><span class="o">/</span><span class="nx">MyLogoutButton</span><span class="err">'</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"kr"</span><span class="o">&gt;</span><span class="kr">const</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;App&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">()</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="p"&gt;</span><span class="se">(</span><span class="sr">&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;Admin&lt;/</span><span class="nx">span</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">loginPage</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="o"&gt;=&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">{</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="nx"&gt;MyLoginPage&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span&gt; &lt;span class="nx"&gt;logoutButton&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;=&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;{&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"nx"</span><span class="o">&gt;</span><span class="nx">MyLogoutButton</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;}&lt;/</span><span class="nx">span</span><span class="o">&gt;&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">gt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"p"</span><span class="o">&gt;</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="nx">span</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"o"</span><span class="o">&gt;&amp;</span><span class="nx">lt</span><span class="p">;</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="sr"&gt;/</span><span class="nx">Admin</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="err"&gt;&amp;gt</span><span class="err">;
</span><span class="o">&lt;</span><span class="sr">/span&gt;&lt;span class="p"&gt;</span><span class="se">)</span><span class="sr">;&lt;/</span><span class="nx">span</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">Tip</span><span class="o">&lt;</span><span class="sr">/strong&gt;: When setting the &lt;code class="highlighter-rouge"&gt;loginPage&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">and</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">logoutButton</span><span class="o">&lt;</span><span class="sr">/code&gt; props, you no longer need the &lt;code class="highlighter-rouge"&gt;authClient&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">method</span><span class="p">,</span> <span class="nx">since</span> <span class="nx">it</span> <span class="nx">is</span> <span class="nx">only</span> <span class="nx">passed</span> <span class="nx">to</span> <span class="nx">the</span> <span class="k">default</span> <span class="o">&lt;</span><span class="nx">code</span> <span class="kr">class</span><span class="o">=</span><span class="s2">"highlighter-rouge"</span><span class="o">&gt;</span><span class="nx">Login</span><span class="o">&lt;</span><span class="sr">/code&gt; and &lt;code class="highlighter-rouge"&gt;Logout&lt;/</span><span class="nx">code</span><span class="o">&gt;</span> <span class="nx">components</span><span class="p">.</span> <span class="nx">That</span> <span class="nx">means</span> <span class="nx">your</span> <span class="nx">custom</span> <span class="nx">login</span> <span class="nx">and</span> <span class="nx">logout</span> <span class="nx">components</span> <span class="nx">must</span> <span class="nx">implement</span> <span class="nx">their</span> <span class="nx">own</span> <span class="nx">authentication</span> <span class="nx">client</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>
<span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;&lt;</span><span class="nx">strong</span><span class="o">&gt;</span><span class="nx">Tip</span><span class="o">&lt;</span><span class="sr">/strong&gt;: If you want to use Redux and Saga to handle credentials and authorization, you will need to register  &lt;a href="./</span><span class="nx">AdminResource</span><span class="p">.</span><span class="nx">html</span><span class="err">#</span><span class="nx">customreducers</span><span class="s2">"&gt;custom reducers&lt;/a&gt; and &lt;a href="</span><span class="p">.</span><span class="o">/</span><span class="nx">AdminResource</span><span class="p">.</span><span class="nx">html</span><span class="err">#</span><span class="nx">customsagas</span><span class="s2">"&gt;custom sagas&lt;/a&gt; in the &lt;code class="</span><span class="nx">highlighter</span><span class="o">-</span><span class="nx">rouge</span><span class="s2">"&gt;&amp;lt;Admin&amp;gt;&lt;/code&gt; component.&lt;/p&gt;
 /&gt;
                &lt;BooleanInput label="</span><span class="nx">Allow</span> <span class="nx">comments</span><span class="p">?</span><span class="s2">" source="</span><span class="nx">commentable</span><span class="s2">" defaultValue /&gt;
                &lt;DisabledInput label="</span><span class="nx">Nb</span> <span class="nx">views</span><span class="s2">" source="</span><span class="nx">views</span><span class="s2">" /&gt;
            &lt;/FormTab&gt;
            &lt;FormTab label="</span><span class="nx">comments</span><span class="s2">"&gt;
                &lt;ReferenceManyField reference="</span><span class="nx">comments</span><span class="s2">" target="</span><span class="nx">post_id</span><span class="s2">" addLabel={false}&gt;
                    &lt;Datagrid&gt;
                        &lt;TextField source="</span><span class="nx">body</span><span class="s2">" /&gt;
                        &lt;DateField source="</span><span class="nx">created_at</span><span class="err">"</span> <span class="o">/&gt;</span>
                        <span class="o">&lt;</span><span class="nx">EditButton</span> <span class="o">/&gt;</span>
                    <span class="o">&lt;</span><span class="sr">/Datagrid</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/ReferenceManyField</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/FormTab</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/TabbedForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Edit</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="default-values">Default Values</h2>

<p>To define default values, you can add a <code class="highlighter-rouge">defaultValue</code> prop to form components (<code class="highlighter-rouge">&lt;SimpleForm&gt;</code>, <code class="highlighter-rouge">&lt;Tabbedform&gt;</code>, etc.), or add a <code class="highlighter-rouge">defaultValue</code> to individual input components.</p>

<h3 id="global-default-value">Global Default Value</h3>

<p>The value of the form <code class="highlighter-rouge">defaultValue</code> prop must be an object, specifying default value for the created record. For instance:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">postDefaultValue</span> <span class="o">=</span> <span class="p">{</span> <span class="na">created_at</span><span class="p">:</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">(),</span> <span class="na">nb_views</span><span class="p">:</span> <span class="mi">0</span> <span class="p">};</span>
<span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span> <span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="nx">postDefaultValue</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">NumberInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"nb_views"</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<p><strong>Tip</strong>: You can include properties in the form <code class="highlighter-rouge">defaultValue</code> that are not listed as input components, like the <code class="highlighter-rouge">created_at</code> property in the previous example.</p>

<h3 id="per-field-default-value">Per Field Default Value</h3>

<p>Alternatively, you can specify a <code class="highlighter-rouge">defaultValue</code> prop directly in <code class="highlighter-rouge">&lt;Input&gt;</code> components. Admin-on-rest will merge the child default values with the form default value (input &gt; form):</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kr">const</span> <span class="nx">PostCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"title"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">RichTextInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"body"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">NumberInput</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"nb_views"</span> <span class="nx">defaultValue</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h2 id="validation">Validation</h2>

<p>To validate a form, you can add a <code class="highlighter-rouge">validation</code> prop to the form component, to individual inputs, or even mix both approaches.</p>

<h3 id="global-validation">Global Validation</h3>

<p>The value of the form <code class="highlighter-rouge">validation</code> prop must be a function taking the record as input, and returning an object with error messages indexed by field. For instance:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">createValidation</span> <span class="o">=</span> <span class="p">(</span><span class="nx">values</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">errors</span> <span class="o">=</span> <span class="p">{};</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">values</span><span class="p">.</span><span class="nx">firstName</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">errors</span><span class="p">.</span><span class="nx">firstName</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'The firstName is required'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">values</span><span class="p">.</span><span class="nx">age</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">errors</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'The age is required'</span><span class="p">];</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">values</span><span class="p">.</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">errors</span><span class="p">.</span><span class="nx">age</span> <span class="o">=</span> <span class="p">[</span><span class="s1">'Must be over 18'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">errors</span>
<span class="p">};</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">UserCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span> <span class="nx">validation</span><span class="o">=</span><span class="p">{</span><span class="nx">createValidation</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"firstName"</span> <span class="o">/&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Age"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"age"</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<h3 id="per-field-validation-function-validator">Per Field Validation: Function Validator</h3>

<p>Alternatively, you can specify a <code class="highlighter-rouge">validation</code> prop directly in <code class="highlighter-rouge">&lt;Input&gt;</code> components. Admin-on-rest will mash all the individual functions up to a single function looking just like the previous one:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">firstNameValidation</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">values</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">'The firstName is required'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[];</span>
<span class="p">};</span>

<span class="kr">const</span> <span class="nx">ageValidation</span> <span class="o">=</span> <span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">values</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">'The age is required'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">age</span> <span class="o">&lt;</span> <span class="mi">18</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span><span class="s1">'Must be over 18'</span><span class="p">];</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">[];</span>
<span class="p">}</span>

<span class="kr">export</span> <span class="kr">const</span> <span class="nx">UserCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"firstName"</span> <span class="nx">validation</span><span class="o">=</span><span class="p">{</span><span class="nx">firstNameValidation</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Age"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"age"</span> <span class="nx">validation</span><span class="o">=</span><span class="p">{</span><span class="nx">ageValidation</span><span class="p">}</span><span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<p>Input validation functions receive the current field value, and the values of all fields of the current record. This allows for complex validation scenarios (e.g. validate that two passwords are the same).</p>

<p><strong>Tip</strong>: You can use <em>both</em> Form validation and input validation.</p>

<h3 id="per-field-validation-constraints-object">Per Field Validation: Constraints Object</h3>

<p>Validation constraints often look the same: asserting presence, size, format, etc. Instead of passing a function as validation, you can pass a constraints object:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="kr">export</span> <span class="kr">const</span> <span class="nx">UserCreate</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Create</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">SimpleForm</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"First Name"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"firstName"</span> <span class="nx">validation</span><span class="o">=</span><span class="p">{{</span> <span class="nl">required</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}}</span> <span class="sr">/</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">TextInput</span> <span class="nx">label</span><span class="o">=</span><span class="s2">"Age"</span> <span class="nx">source</span><span class="o">=</span><span class="s2">"age"</span> <span class="nx">validation</span><span class="o">=</span><span class="p">{{</span> <span class="nl">required</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">min</span><span class="p">:</span> <span class="mi">18</span> <span class="p">}}</span><span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/SimpleForm</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Create</span><span class="err">&gt;
</span><span class="p">);</span>
</code></pre>
</div>

<p>As Admin-on-rest translates these constraints objects to functions, the result is the same as before.</p>

<h3 id="constraints-reference">Constraints Reference</h3>

<p>You can use the following validation constraint names:</p>

<ul>
  <li><code class="highlighter-rouge">required</code> if the field is mandatory,</li>
  <li><code class="highlighter-rouge">min</code> to specify a minimum value for integers,</li>
  <li><code class="highlighter-rouge">max</code> to specify a maximum value for integers,</li>
  <li><code class="highlighter-rouge">minLength</code> to specify a minimum length for strings,</li>
  <li><code class="highlighter-rouge">maxLength</code> to specify a maximum length for strings,</li>
  <li><code class="highlighter-rouge">email</code> to check that the input is a valid email address,</li>
  <li><code class="highlighter-rouge">regex</code> to validate that the input matches a regex (must be an object with <code class="highlighter-rouge">pattern</code> and <code class="highlighter-rouge">message</code> keys),</li>
  <li><code class="highlighter-rouge">choices</code> to validate that the input is within a given list,</li>
  <li><code class="highlighter-rouge">custom</code> to use the function of your choice</li>
</ul>


                                </section>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
